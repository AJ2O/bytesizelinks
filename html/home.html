<html>
    <head>
        <link rel="stylesheet" href="/static/style.css">
    </head>
    <script>
        function setButtonText() {
            var buttonElement = document.getElementById("button");
            var linkText = document.getElementById("customLink").value;
            if (!linkText || 0 === linkText.length) {
                buttonElement.value = "Generate!";
            }
            else {
                buttonElement.value = "Use Custom Link!";
            }
        }
    </script>
    <body class="webpage">
        <h1 class="title">Byte-Size.Links</h1>
        {{if .ErrorMessage}}
            <h2 class="center error">{{.Message}}</h2>
        {{end}}
        {{if .GeneratedMessage}}
            <div class="center">
                <h2>Generated Byte-Link: <a class="link" href="{{.Message}}" target="_blank">{{.Message}}</a></h2>
            </div>
        {{end}}
        <form method="POST">
            <table class="form">
                <tr>
                    <td class="formHeader"><label>Original Link: </label></td>
                    <td><input type="text" name="sourceLink" placeholder="{{.WebsiteURL}}"><br/></td>
                </tr>
                <tr>
                    <td class="formHeader"><label>Custom Byte-Link: {{.WebsiteURL}}/</label></td>
                    <td><input oninput="setButtonText()" type="text" id="customLink" name="customLink" placeholder="bytesize"><br/></td>
                </tr>
                <tr>
                    <td></td>
                    <td class="generate"><input type="submit" id="button" name="submit" value="Generate!"></td>
                </tr>
            </table>
        </form>
    </body>
</html>